export default class Pixie {
    #defaultSize = 10;
    #idleSize = 30;
    #textSpeed = 20;

    #elt;
    #isIdle = false;

    #position = { x: 0, y: 0 };

    #svg_bubble = `<svg width="439" height="135" viewBox="0 0 439 135" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.5 122V128.036L6.76777 123.768L30.0355 100.5H430.8L430.873 100.5C431.369 100.5 431.88 100.5 432.317 100.464C432.805 100.425 433.418 100.328 434.043 100.01C434.89 99.5781 435.578 98.8897 436.01 98.0429C436.328 97.4179 436.425 96.8053 436.464 96.3172C436.5 95.8799 436.5 95.3694 436.5 94.8734V94.8V8.2V8.12657C436.5 7.63057 436.5 7.12013 436.464 6.68282C436.425 6.19473 436.328 5.58214 436.01 4.95707V4.95707C435.578 4.1103 434.89 3.4219 434.043 2.99049C433.418 2.67197 432.805 2.57543 432.317 2.53555C431.88 2.49981 431.369 2.4999 430.873 2.49999L430.8 2.5H8.2C8.17566 2.5 8.15128 2.5 8.12686 2.49999C7.63076 2.4999 7.12022 2.49981 6.68282 2.53555C6.19472 2.57543 5.58212 2.67198 4.95704 2.99047C4.11031 3.4219 3.4219 4.11031 2.99047 4.95704C2.67198 5.58212 2.57543 6.19472 2.53555 6.68282C2.49981 7.12022 2.4999 7.63076 2.49999 8.12686C2.5 8.15128 2.5 8.17566 2.5 8.2V122Z" stroke="white" stroke-width="5"/>
                        <path d="M21.549 28.12H26.526C27.3 28.12 27.999 28.264 28.623 28.552C29.247 28.834 29.742 29.254 30.108 29.812C30.48 30.37 30.666 31.054 30.666 31.864C30.666 32.674 30.48 33.373 30.108 33.961C29.742 34.543 29.247 34.993 28.623 35.311C27.999 35.623 27.3 35.779 26.526 35.779H25.032V40H21.549V28.12ZM25.032 33.07H25.554C25.95 33.07 26.277 32.983 26.535 32.809C26.799 32.635 26.931 32.35 26.931 31.954C26.931 31.558 26.799 31.273 26.535 31.099C26.277 30.919 25.95 30.829 25.554 30.829H25.032V33.07ZM33.8637 31.792C33.3357 31.792 32.8857 31.606 32.5137 31.234C32.1477 30.856 31.9647 30.409 31.9647 29.893C31.9647 29.377 32.1477 28.93 32.5137 28.552C32.8857 28.168 33.3357 27.976 33.8637 27.976C34.2117 27.976 34.5297 28.063 34.8177 28.237C35.1057 28.411 35.3367 28.642 35.5107 28.93C35.6907 29.218 35.7807 29.539 35.7807 29.893C35.7807 30.409 35.5917 30.856 35.2137 31.234C34.8417 31.606 34.3917 31.792 33.8637 31.792ZM32.0547 40V32.611H35.5917V40H32.0547ZM43.5419 35.995L46.6379 40H42.7409L41.4269 38.182L40.1039 40H36.5039L39.5999 36.283L36.8099 32.611H40.7339L41.6609 34.051L42.6689 32.611H46.1969L43.5419 35.995ZM49.2621 31.792C48.7341 31.792 48.2841 31.606 47.9121 31.234C47.5461 30.856 47.3631 30.409 47.3631 29.893C47.3631 29.377 47.5461 28.93 47.9121 28.552C48.2841 28.168 48.7341 27.976 49.2621 27.976C49.6101 27.976 49.9281 28.063 50.2161 28.237C50.5041 28.411 50.7351 28.642 50.9091 28.93C51.0891 29.218 51.1791 29.539 51.1791 29.893C51.1791 30.409 50.9901 30.856 50.6121 31.234C50.2401 31.606 49.7901 31.792 49.2621 31.792ZM47.4531 40V32.611H50.9901V40H47.4531ZM55.5473 37.003C55.5893 37.219 55.7363 37.387 55.9883 37.507C56.2403 37.621 56.5493 37.678 56.9153 37.678C57.3113 37.678 57.6893 37.651 58.0493 37.597C58.4153 37.543 58.6943 37.45 58.8863 37.318L60.1553 39.541C60.0413 39.613 59.8523 39.703 59.5883 39.811C59.3303 39.913 58.9643 40.006 58.4903 40.09C58.0223 40.174 57.4163 40.216 56.6723 40.216C55.8383 40.216 55.0823 40.075 54.4043 39.793C53.7263 39.511 53.1863 39.076 52.7843 38.488C52.3883 37.894 52.1903 37.141 52.1903 36.229C52.1903 35.509 52.3553 34.861 52.6853 34.285C53.0153 33.703 53.4923 33.244 54.1163 32.908C54.7403 32.566 55.4963 32.395 56.3843 32.395C57.6743 32.395 58.6943 32.722 59.4443 33.376C60.1943 34.03 60.5693 35.053 60.5693 36.445C60.5693 36.493 60.5663 36.589 60.5603 36.733C60.5603 36.871 60.5543 36.961 60.5423 37.003H55.5473ZM57.2303 35.554C57.2183 35.254 57.1403 35.032 56.9963 34.888C56.8523 34.744 56.6663 34.672 56.4383 34.672C56.2343 34.672 56.0483 34.738 55.8803 34.87C55.7123 35.002 55.6253 35.23 55.6193 35.554H57.2303ZM70.245 40H66.699V27.616H70.245V40ZM74.6899 37.003C74.7319 37.219 74.8789 37.387 75.1309 37.507C75.3829 37.621 75.6919 37.678 76.0579 37.678C76.4539 37.678 76.8319 37.651 77.1919 37.597C77.5579 37.543 77.8369 37.45 78.0289 37.318L79.2979 39.541C79.1839 39.613 78.9949 39.703 78.7309 39.811C78.4729 39.913 78.1069 40.006 77.6329 40.09C77.1649 40.174 76.5589 40.216 75.8149 40.216C74.9809 40.216 74.2249 40.075 73.5469 39.793C72.8689 39.511 72.3289 39.076 71.9269 38.488C71.5309 37.894 71.3329 37.141 71.3329 36.229C71.3329 35.509 71.4979 34.861 71.8279 34.285C72.1579 33.703 72.6349 33.244 73.2589 32.908C73.8829 32.566 74.6389 32.395 75.5269 32.395C76.8169 32.395 77.8369 32.722 78.5869 33.376C79.3369 34.03 79.7119 35.053 79.7119 36.445C79.7119 36.493 79.7089 36.589 79.7029 36.733C79.7029 36.871 79.6969 36.961 79.6849 37.003H74.6899ZM76.3729 35.554C76.3609 35.254 76.2829 35.032 76.1389 34.888C75.9949 34.744 75.8089 34.672 75.5809 34.672C75.3769 34.672 75.1909 34.738 75.0229 34.87C74.8549 35.002 74.7679 35.23 74.7619 35.554H76.3729ZM89.3426 43.744H85.8416V32.611H89.3696V33.475C89.5256 33.247 89.8196 33.01 90.2516 32.764C90.6896 32.518 91.2266 32.395 91.8626 32.395C92.6006 32.395 93.2216 32.581 93.7256 32.953C94.2296 33.325 94.6106 33.808 94.8686 34.402C95.1266 34.996 95.2556 35.632 95.2556 36.31C95.2556 36.988 95.1146 37.624 94.8326 38.218C94.5506 38.812 94.1456 39.295 93.6176 39.667C93.0896 40.033 92.4566 40.216 91.7186 40.216C91.2326 40.216 90.8246 40.135 90.4946 39.973C90.1646 39.811 89.9066 39.631 89.7206 39.433C89.5346 39.229 89.4086 39.073 89.3426 38.965V43.744ZM91.7906 36.31C91.7906 36.004 91.6766 35.731 91.4486 35.491C91.2266 35.251 90.9356 35.131 90.5756 35.131C90.2156 35.131 89.9246 35.251 89.7026 35.491C89.4806 35.731 89.3696 36.004 89.3696 36.31C89.3696 36.622 89.4806 36.895 89.7026 37.129C89.9246 37.363 90.2156 37.48 90.5756 37.48C90.9356 37.48 91.2266 37.363 91.4486 37.129C91.6766 36.895 91.7906 36.622 91.7906 36.31ZM98.3051 31.792C97.7771 31.792 97.3271 31.606 96.9551 31.234C96.5891 30.856 96.4061 30.409 96.4061 29.893C96.4061 29.377 96.5891 28.93 96.9551 28.552C97.3271 28.168 97.7771 27.976 98.3051 27.976C98.6531 27.976 98.9711 28.063 99.2591 28.237C99.5471 28.411 99.7781 28.642 99.9521 28.93C100.132 29.218 100.222 29.539 100.222 29.893C100.222 30.409 100.033 30.856 99.6551 31.234C99.2831 31.606 98.8331 31.792 98.3051 31.792ZM96.4961 40V32.611H100.033V40H96.4961ZM107.983 35.995L111.079 40H107.182L105.868 38.182L104.545 40H100.945L104.041 36.283L101.251 32.611H105.175L106.102 34.051L107.11 32.611H110.638L107.983 35.995ZM114.592 37.003C114.634 37.219 114.781 37.387 115.033 37.507C115.285 37.621 115.594 37.678 115.96 37.678C116.356 37.678 116.734 37.651 117.094 37.597C117.46 37.543 117.739 37.45 117.931 37.318L119.2 39.541C119.086 39.613 118.897 39.703 118.633 39.811C118.375 39.913 118.009 40.006 117.535 40.09C117.067 40.174 116.461 40.216 115.717 40.216C114.883 40.216 114.127 40.075 113.449 39.793C112.771 39.511 112.231 39.076 111.829 38.488C111.433 37.894 111.235 37.141 111.235 36.229C111.235 35.509 111.4 34.861 111.73 34.285C112.06 33.703 112.537 33.244 113.161 32.908C113.785 32.566 114.541 32.395 115.429 32.395C116.719 32.395 117.739 32.722 118.489 33.376C119.239 34.03 119.614 35.053 119.614 36.445C119.614 36.493 119.611 36.589 119.605 36.733C119.605 36.871 119.599 36.961 119.587 37.003H114.592ZM116.275 35.554C116.263 35.254 116.185 35.032 116.041 34.888C115.897 34.744 115.711 34.672 115.483 34.672C115.279 34.672 115.093 34.738 114.925 34.87C114.757 35.002 114.67 35.23 114.664 35.554H116.275ZM124.315 40H120.769V27.616H124.315V40ZM134.167 43.744H130.666V32.611H134.194V33.475C134.35 33.247 134.644 33.01 135.076 32.764C135.514 32.518 136.051 32.395 136.687 32.395C137.425 32.395 138.046 32.581 138.55 32.953C139.054 33.325 139.435 33.808 139.693 34.402C139.951 34.996 140.08 35.632 140.08 36.31C140.08 36.988 139.939 37.624 139.657 38.218C139.375 38.812 138.97 39.295 138.442 39.667C137.914 40.033 137.281 40.216 136.543 40.216C136.057 40.216 135.649 40.135 135.319 39.973C134.989 39.811 134.731 39.631 134.545 39.433C134.359 39.229 134.233 39.073 134.167 38.965V43.744ZM136.615 36.31C136.615 36.004 136.501 35.731 136.273 35.491C136.051 35.251 135.76 35.131 135.4 35.131C135.04 35.131 134.749 35.251 134.527 35.491C134.305 35.731 134.194 36.004 134.194 36.31C134.194 36.622 134.305 36.895 134.527 37.129C134.749 37.363 135.04 37.48 135.4 37.48C135.76 37.48 136.051 37.363 136.273 37.129C136.501 36.895 136.615 36.622 136.615 36.31ZM144.299 37.003C144.341 37.219 144.488 37.387 144.74 37.507C144.992 37.621 145.301 37.678 145.667 37.678C146.063 37.678 146.441 37.651 146.801 37.597C147.167 37.543 147.446 37.45 147.638 37.318L148.907 39.541C148.793 39.613 148.604 39.703 148.34 39.811C148.082 39.913 147.716 40.006 147.242 40.09C146.774 40.174 146.168 40.216 145.424 40.216C144.59 40.216 143.834 40.075 143.156 39.793C142.478 39.511 141.938 39.076 141.536 38.488C141.14 37.894 140.942 37.141 140.942 36.229C140.942 35.509 141.107 34.861 141.437 34.285C141.767 33.703 142.244 33.244 142.868 32.908C143.492 32.566 144.248 32.395 145.136 32.395C146.426 32.395 147.446 32.722 148.196 33.376C148.946 34.03 149.321 35.053 149.321 36.445C149.321 36.493 149.318 36.589 149.312 36.733C149.312 36.871 149.306 36.961 149.294 37.003H144.299ZM145.982 35.554C145.97 35.254 145.892 35.032 145.748 34.888C145.604 34.744 145.418 34.672 145.19 34.672C144.986 34.672 144.8 34.738 144.632 34.87C144.464 35.002 144.377 35.23 144.371 35.554H145.982ZM153.689 40H150.143V32.611H153.689V33.583C153.767 33.439 153.902 33.277 154.094 33.097C154.286 32.911 154.541 32.749 154.859 32.611C155.183 32.467 155.579 32.395 156.047 32.395C156.383 32.395 156.704 32.452 157.01 32.566C157.316 32.674 157.544 32.782 157.694 32.89L156.335 35.752C156.257 35.632 156.11 35.512 155.894 35.392C155.678 35.266 155.408 35.203 155.084 35.203C154.736 35.203 154.46 35.275 154.256 35.419C154.052 35.557 153.905 35.731 153.815 35.941C153.731 36.145 153.689 36.346 153.689 36.544V40ZM169.299 32.395C169.863 32.395 170.37 32.509 170.82 32.737C171.276 32.959 171.636 33.31 171.9 33.79C172.17 34.264 172.305 34.879 172.305 35.635V40H168.822V36.112C168.822 35.794 168.768 35.506 168.66 35.248C168.552 34.99 168.309 34.861 167.931 34.861C167.547 34.861 167.274 34.993 167.112 35.257C166.956 35.515 166.878 35.8 166.878 36.112V40H163.647V36.112C163.647 35.794 163.596 35.506 163.494 35.248C163.398 34.99 163.158 34.861 162.774 34.861C162.39 34.861 162.114 34.993 161.946 35.257C161.784 35.515 161.703 35.8 161.703 36.112V40H158.193V32.611H161.703V33.61C161.781 33.424 161.949 33.238 162.207 33.052C162.471 32.866 162.786 32.71 163.152 32.584C163.524 32.458 163.905 32.395 164.295 32.395C164.937 32.395 165.432 32.5 165.78 32.71C166.128 32.92 166.413 33.223 166.635 33.619C166.713 33.433 166.881 33.247 167.139 33.061C167.397 32.869 167.715 32.71 168.093 32.584C168.471 32.458 168.873 32.395 169.299 32.395ZM176.52 37.003C176.562 37.219 176.709 37.387 176.961 37.507C177.213 37.621 177.522 37.678 177.888 37.678C178.284 37.678 178.662 37.651 179.022 37.597C179.388 37.543 179.667 37.45 179.859 37.318L181.128 39.541C181.014 39.613 180.825 39.703 180.561 39.811C180.303 39.913 179.937 40.006 179.463 40.09C178.995 40.174 178.389 40.216 177.645 40.216C176.811 40.216 176.055 40.075 175.377 39.793C174.699 39.511 174.159 39.076 173.757 38.488C173.361 37.894 173.163 37.141 173.163 36.229C173.163 35.509 173.328 34.861 173.658 34.285C173.988 33.703 174.465 33.244 175.089 32.908C175.713 32.566 176.469 32.395 177.357 32.395C178.647 32.395 179.667 32.722 180.417 33.376C181.167 34.03 181.542 35.053 181.542 36.445C181.542 36.493 181.539 36.589 181.533 36.733C181.533 36.871 181.527 36.961 181.515 37.003H176.52ZM178.203 35.554C178.191 35.254 178.113 35.032 177.969 34.888C177.825 34.744 177.639 34.672 177.411 34.672C177.207 34.672 177.021 34.738 176.853 34.87C176.685 35.002 176.598 35.23 176.592 35.554H178.203ZM182.121 32.611H183.246V29.578H186.747V32.611H188.241V35.491H186.747V36.445C186.747 36.661 186.771 36.859 186.819 37.039C186.873 37.219 187.011 37.309 187.233 37.309C187.353 37.309 187.464 37.279 187.566 37.219C187.674 37.159 187.74 37.117 187.764 37.093L188.916 39.586C188.868 39.628 188.712 39.7 188.448 39.802C188.19 39.904 187.86 39.997 187.458 40.081C187.062 40.171 186.627 40.216 186.153 40.216C185.301 40.216 184.602 39.985 184.056 39.523C183.516 39.061 183.246 38.356 183.246 37.408V35.491H182.121V32.611ZM203.669 40H200.168V38.965C199.928 39.331 199.586 39.631 199.142 39.865C198.704 40.099 198.245 40.216 197.765 40.216C197.027 40.216 196.394 40.033 195.866 39.667C195.344 39.295 194.945 38.812 194.669 38.218C194.393 37.624 194.255 36.988 194.255 36.31C194.255 35.632 194.393 34.996 194.669 34.402C194.945 33.808 195.344 33.325 195.866 32.953C196.394 32.581 197.027 32.395 197.765 32.395C198.401 32.395 198.929 32.518 199.349 32.764C199.775 33.01 200.039 33.247 200.141 33.475V27.616H203.669V40ZM197.72 36.31C197.72 36.622 197.831 36.895 198.053 37.129C198.281 37.363 198.575 37.48 198.935 37.48C199.295 37.48 199.586 37.363 199.808 37.129C200.03 36.895 200.141 36.622 200.141 36.31C200.141 36.004 200.03 35.731 199.808 35.491C199.586 35.251 199.295 35.131 198.935 35.131C198.575 35.131 198.281 35.251 198.053 35.491C197.831 35.731 197.72 36.004 197.72 36.31ZM208.161 37.003C208.203 37.219 208.35 37.387 208.602 37.507C208.854 37.621 209.163 37.678 209.529 37.678C209.925 37.678 210.303 37.651 210.663 37.597C211.029 37.543 211.308 37.45 211.5 37.318L212.769 39.541C212.655 39.613 212.466 39.703 212.202 39.811C211.944 39.913 211.578 40.006 211.104 40.09C210.636 40.174 210.03 40.216 209.286 40.216C208.452 40.216 207.696 40.075 207.018 39.793C206.34 39.511 205.8 39.076 205.398 38.488C205.002 37.894 204.804 37.141 204.804 36.229C204.804 35.509 204.969 34.861 205.299 34.285C205.629 33.703 206.106 33.244 206.73 32.908C207.354 32.566 208.11 32.395 208.998 32.395C210.288 32.395 211.308 32.722 212.058 33.376C212.808 34.03 213.183 35.053 213.183 36.445C213.183 36.493 213.18 36.589 213.174 36.733C213.174 36.871 213.168 36.961 213.156 37.003H208.161ZM209.844 35.554C209.832 35.254 209.754 35.032 209.61 34.888C209.466 34.744 209.28 34.672 209.052 34.672C208.848 34.672 208.662 34.738 208.494 34.87C208.326 35.002 208.239 35.23 208.233 35.554H209.844ZM223.488 43.96C223.014 43.96 222.51 43.924 221.976 43.852C221.442 43.78 220.926 43.636 220.428 43.42C219.93 43.204 219.501 42.88 219.141 42.448L221.139 40.306C221.367 40.558 221.658 40.777 222.012 40.963C222.372 41.149 222.807 41.242 223.317 41.242C223.779 41.242 224.166 41.152 224.478 40.972C224.79 40.792 224.946 40.468 224.946 40V38.965C224.886 39.073 224.751 39.229 224.541 39.433C224.337 39.631 224.067 39.811 223.731 39.973C223.401 40.135 223.014 40.216 222.57 40.216C221.832 40.216 221.196 40.033 220.662 39.667C220.134 39.295 219.729 38.812 219.447 38.218C219.165 37.624 219.024 36.988 219.024 36.31C219.024 35.632 219.165 34.996 219.447 34.402C219.729 33.808 220.134 33.325 220.662 32.953C221.196 32.581 221.832 32.395 222.57 32.395C223.2 32.395 223.707 32.518 224.091 32.764C224.481 33.01 224.754 33.247 224.91 33.475V32.611H228.438V40.198C228.438 41.026 228.219 41.719 227.781 42.277C227.343 42.835 226.749 43.255 225.999 43.537C225.255 43.819 224.418 43.96 223.488 43.96ZM222.498 36.31C222.498 36.622 222.609 36.895 222.831 37.129C223.053 37.363 223.344 37.48 223.704 37.48C224.064 37.48 224.355 37.363 224.577 37.129C224.799 36.895 224.91 36.622 224.91 36.31C224.91 36.004 224.799 35.731 224.577 35.491C224.355 35.251 224.064 35.131 223.704 35.131C223.344 35.131 223.053 35.251 222.831 35.491C222.609 35.731 222.498 36.004 222.498 36.31ZM233.288 35.824C233.288 36.28 233.36 36.646 233.504 36.922C233.654 37.198 233.933 37.336 234.341 37.336C234.761 37.336 235.043 37.198 235.187 36.922C235.331 36.646 235.403 36.28 235.403 35.824V32.611H238.895V36.166C238.895 37.426 238.499 38.416 237.707 39.136C236.915 39.856 235.793 40.216 234.341 40.216C232.901 40.216 231.785 39.856 230.993 39.136C230.201 38.416 229.805 37.426 229.805 36.166V32.611H233.288V35.824ZM242.094 31.792C241.566 31.792 241.116 31.606 240.744 31.234C240.378 30.856 240.195 30.409 240.195 29.893C240.195 29.377 240.378 28.93 240.744 28.552C241.116 28.168 241.566 27.976 242.094 27.976C242.442 27.976 242.76 28.063 243.048 28.237C243.336 28.411 243.567 28.642 243.741 28.93C243.921 29.218 244.011 29.539 244.011 29.893C244.011 30.409 243.822 30.856 243.444 31.234C243.072 31.606 242.622 31.792 242.094 31.792ZM240.285 40V32.611H243.822V40H240.285ZM254.364 40H250.863V38.965C250.623 39.331 250.281 39.631 249.837 39.865C249.399 40.099 248.94 40.216 248.46 40.216C247.722 40.216 247.089 40.033 246.561 39.667C246.039 39.295 245.64 38.812 245.364 38.218C245.088 37.624 244.95 36.988 244.95 36.31C244.95 35.632 245.088 34.996 245.364 34.402C245.64 33.808 246.039 33.325 246.561 32.953C247.089 32.581 247.722 32.395 248.46 32.395C249.096 32.395 249.624 32.518 250.044 32.764C250.47 33.01 250.734 33.247 250.836 33.475V27.616H254.364V40ZM248.415 36.31C248.415 36.622 248.526 36.895 248.748 37.129C248.976 37.363 249.27 37.48 249.63 37.48C249.99 37.48 250.281 37.363 250.503 37.129C250.725 36.895 250.836 36.622 250.836 36.31C250.836 36.004 250.725 35.731 250.503 35.491C250.281 35.251 249.99 35.131 249.63 35.131C249.27 35.131 248.976 35.251 248.748 35.491C248.526 35.731 248.415 36.004 248.415 36.31ZM258.856 37.003C258.898 37.219 259.045 37.387 259.297 37.507C259.549 37.621 259.858 37.678 260.224 37.678C260.62 37.678 260.998 37.651 261.358 37.597C261.724 37.543 262.003 37.45 262.195 37.318L263.464 39.541C263.35 39.613 263.161 39.703 262.897 39.811C262.639 39.913 262.273 40.006 261.799 40.09C261.331 40.174 260.725 40.216 259.981 40.216C259.147 40.216 258.391 40.075 257.713 39.793C257.035 39.511 256.495 39.076 256.093 38.488C255.697 37.894 255.499 37.141 255.499 36.229C255.499 35.509 255.664 34.861 255.994 34.285C256.324 33.703 256.801 33.244 257.425 32.908C258.049 32.566 258.805 32.395 259.693 32.395C260.983 32.395 262.003 32.722 262.753 33.376C263.503 34.03 263.878 35.053 263.878 36.445C263.878 36.493 263.875 36.589 263.869 36.733C263.869 36.871 263.863 36.961 263.851 37.003H258.856ZM260.539 35.554C260.527 35.254 260.449 35.032 260.305 34.888C260.161 34.744 259.975 34.672 259.747 34.672C259.543 34.672 259.357 34.738 259.189 34.87C259.021 35.002 258.934 35.23 258.928 35.554H260.539ZM268.246 40H264.7V32.611H268.246V33.583C268.324 33.439 268.459 33.277 268.651 33.097C268.843 32.911 269.098 32.749 269.416 32.611C269.74 32.467 270.136 32.395 270.604 32.395C270.94 32.395 271.261 32.452 271.567 32.566C271.873 32.674 272.101 32.782 272.251 32.89L270.892 35.752C270.814 35.632 270.667 35.512 270.451 35.392C270.235 35.266 269.965 35.203 269.641 35.203C269.293 35.203 269.017 35.275 268.813 35.419C268.609 35.557 268.462 35.731 268.372 35.941C268.288 36.145 268.246 36.346 268.246 36.544V40ZM281.27 40H277.724V27.616H281.27V40ZM284.086 27.616C284.614 27.616 285.052 27.802 285.4 28.174C285.754 28.546 285.931 29.098 285.931 29.83C285.931 30.436 285.814 30.979 285.58 31.459C285.346 31.939 285.037 32.353 284.653 32.701C284.269 33.043 283.855 33.31 283.411 33.502L282.646 32.926C282.778 32.86 282.979 32.734 283.249 32.548C283.519 32.362 283.765 32.137 283.987 31.873C284.215 31.603 284.329 31.312 284.329 31C284.263 31.066 284.158 31.111 284.014 31.135C283.87 31.159 283.732 31.171 283.6 31.171C283.282 31.171 282.976 31.045 282.682 30.793C282.388 30.535 282.241 30.118 282.241 29.542C282.241 28.948 282.418 28.48 282.772 28.138C283.132 27.79 283.57 27.616 284.086 27.616ZM290.61 35.824C290.61 36.28 290.682 36.646 290.826 36.922C290.976 37.198 291.255 37.336 291.663 37.336C292.083 37.336 292.365 37.198 292.509 36.922C292.653 36.646 292.725 36.28 292.725 35.824V32.611H296.217V36.166C296.217 37.426 295.821 38.416 295.029 39.136C294.237 39.856 293.115 40.216 291.663 40.216C290.223 40.216 289.107 39.856 288.315 39.136C287.523 38.416 287.127 37.426 287.127 36.166V32.611H290.61V35.824ZM296.871 32.611H297.996V29.578H301.497V32.611H302.991V35.491H301.497V36.445C301.497 36.661 301.521 36.859 301.569 37.039C301.623 37.219 301.761 37.309 301.983 37.309C302.103 37.309 302.214 37.279 302.316 37.219C302.424 37.159 302.49 37.117 302.514 37.093L303.666 39.586C303.618 39.628 303.462 39.7 303.198 39.802C302.94 39.904 302.61 39.997 302.208 40.081C301.812 40.171 301.377 40.216 300.903 40.216C300.051 40.216 299.352 39.985 298.806 39.523C298.266 39.061 297.996 38.356 297.996 37.408V35.491H296.871V32.611ZM306.289 31.792C305.761 31.792 305.311 31.606 304.939 31.234C304.573 30.856 304.39 30.409 304.39 29.893C304.39 29.377 304.573 28.93 304.939 28.552C305.311 28.168 305.761 27.976 306.289 27.976C306.637 27.976 306.955 28.063 307.243 28.237C307.531 28.411 307.762 28.642 307.936 28.93C308.116 29.218 308.206 29.539 308.206 29.893C308.206 30.409 308.017 30.856 307.639 31.234C307.267 31.606 306.817 31.792 306.289 31.792ZM304.48 40V32.611H308.017V40H304.48ZM313.052 40H309.506V27.616H313.052V40ZM316.327 31.792C315.799 31.792 315.349 31.606 314.977 31.234C314.611 30.856 314.428 30.409 314.428 29.893C314.428 29.377 314.611 28.93 314.977 28.552C315.349 28.168 315.799 27.976 316.327 27.976C316.675 27.976 316.993 28.063 317.281 28.237C317.569 28.411 317.8 28.642 317.974 28.93C318.154 29.218 318.244 29.539 318.244 29.893C318.244 30.409 318.055 30.856 317.677 31.234C317.305 31.606 316.855 31.792 316.327 31.792ZM314.518 40V32.611H318.055V40H314.518ZM323.287 32.395C323.833 32.395 324.331 32.437 324.781 32.521C325.231 32.605 325.603 32.698 325.897 32.8C326.191 32.896 326.371 32.968 326.437 33.016L325.357 35.059C325.249 34.987 325.042 34.888 324.736 34.762C324.43 34.636 324.091 34.573 323.719 34.573C323.515 34.573 323.347 34.591 323.215 34.627C323.083 34.657 323.017 34.72 323.017 34.816C323.017 34.99 323.353 35.128 324.025 35.23C324.355 35.29 324.709 35.398 325.087 35.554C325.471 35.704 325.798 35.935 326.068 36.247C326.338 36.559 326.473 36.979 326.473 37.507C326.473 38.083 326.344 38.551 326.086 38.911C325.834 39.265 325.504 39.538 325.096 39.73C324.694 39.916 324.262 40.042 323.8 40.108C323.338 40.18 322.903 40.216 322.495 40.216C321.859 40.216 321.313 40.162 320.857 40.054C320.407 39.946 320.05 39.826 319.786 39.694C319.522 39.562 319.345 39.463 319.255 39.397L320.308 37.12C320.464 37.24 320.716 37.381 321.064 37.543C321.418 37.705 321.775 37.786 322.135 37.786C322.711 37.786 322.999 37.699 322.999 37.525C322.999 37.357 322.672 37.213 322.018 37.093C321.808 37.051 321.568 36.982 321.298 36.886C321.034 36.79 320.776 36.652 320.524 36.472C320.278 36.292 320.074 36.058 319.912 35.77C319.75 35.482 319.669 35.131 319.669 34.717C319.669 34.183 319.843 33.745 320.191 33.403C320.539 33.061 320.989 32.809 321.541 32.647C322.093 32.479 322.675 32.395 323.287 32.395ZM333.263 40V38.965C333.203 39.073 333.068 39.229 332.858 39.433C332.654 39.631 332.384 39.811 332.048 39.973C331.718 40.135 331.331 40.216 330.887 40.216C330.149 40.216 329.513 40.033 328.979 39.667C328.451 39.295 328.046 38.812 327.764 38.218C327.482 37.624 327.341 36.988 327.341 36.31C327.341 35.632 327.482 34.996 327.764 34.402C328.046 33.808 328.451 33.325 328.979 32.953C329.513 32.581 330.149 32.395 330.887 32.395C331.517 32.395 332.024 32.518 332.408 32.764C332.798 33.01 333.071 33.247 333.227 33.475V32.611H336.755V40H333.263ZM330.815 36.31C330.815 36.622 330.926 36.895 331.148 37.129C331.37 37.363 331.661 37.48 332.021 37.48C332.381 37.48 332.672 37.363 332.894 37.129C333.116 36.895 333.227 36.622 333.227 36.31C333.227 36.004 333.116 35.731 332.894 35.491C332.672 35.251 332.381 35.131 332.021 35.131C331.661 35.131 331.37 35.251 331.148 35.491C330.926 35.731 330.815 36.004 330.815 36.31ZM337.617 32.611H338.742V29.578H342.243V32.611H343.737V35.491H342.243V36.445C342.243 36.661 342.267 36.859 342.315 37.039C342.369 37.219 342.507 37.309 342.729 37.309C342.849 37.309 342.96 37.279 343.062 37.219C343.17 37.159 343.236 37.117 343.26 37.093L344.412 39.586C344.364 39.628 344.208 39.7 343.944 39.802C343.686 39.904 343.356 39.997 342.954 40.081C342.558 40.171 342.123 40.216 341.649 40.216C340.797 40.216 340.098 39.985 339.552 39.523C339.012 39.061 338.742 38.356 338.742 37.408V35.491H337.617V32.611ZM348.206 37.003C348.248 37.219 348.395 37.387 348.647 37.507C348.899 37.621 349.208 37.678 349.574 37.678C349.97 37.678 350.348 37.651 350.708 37.597C351.074 37.543 351.353 37.45 351.545 37.318L352.814 39.541C352.7 39.613 352.511 39.703 352.247 39.811C351.989 39.913 351.623 40.006 351.149 40.09C350.681 40.174 350.075 40.216 349.331 40.216C348.497 40.216 347.741 40.075 347.063 39.793C346.385 39.511 345.845 39.076 345.443 38.488C345.047 37.894 344.849 37.141 344.849 36.229C344.849 35.509 345.014 34.861 345.344 34.285C345.674 33.703 346.151 33.244 346.775 32.908C347.399 32.566 348.155 32.395 349.043 32.395C350.333 32.395 351.353 32.722 352.103 33.376C352.853 34.03 353.228 35.053 353.228 36.445C353.228 36.493 353.225 36.589 353.219 36.733C353.219 36.871 353.213 36.961 353.201 37.003H348.206ZM349.889 35.554C349.877 35.254 349.799 35.032 349.655 34.888C349.511 34.744 349.325 34.672 349.097 34.672C348.893 34.672 348.707 34.738 348.539 34.87C348.371 35.002 348.284 35.23 348.278 35.554H349.889ZM357.794 35.824C357.794 36.28 357.866 36.646 358.01 36.922C358.16 37.198 358.439 37.336 358.847 37.336C359.267 37.336 359.549 37.198 359.693 36.922C359.837 36.646 359.909 36.28 359.909 35.824V32.611H363.401V36.166C363.401 37.426 363.005 38.416 362.213 39.136C361.421 39.856 360.299 40.216 358.847 40.216C357.407 40.216 356.291 39.856 355.499 39.136C354.707 38.416 354.311 37.426 354.311 36.166V32.611H357.794V35.824ZM367.914 40H364.368V32.611H367.914V33.583C367.992 33.439 368.127 33.277 368.319 33.097C368.511 32.911 368.766 32.749 369.084 32.611C369.408 32.467 369.804 32.395 370.272 32.395C370.608 32.395 370.929 32.452 371.235 32.566C371.541 32.674 371.769 32.782 371.919 32.89L370.56 35.752C370.482 35.632 370.335 35.512 370.119 35.392C369.903 35.266 369.633 35.203 369.309 35.203C368.961 35.203 368.685 35.275 368.481 35.419C368.277 35.557 368.13 35.731 368.04 35.941C367.956 36.145 367.914 36.346 367.914 36.544V40ZM380.893 43.744H377.392V32.611H380.92V33.475C381.076 33.247 381.37 33.01 381.802 32.764C382.24 32.518 382.777 32.395 383.413 32.395C384.151 32.395 384.772 32.581 385.276 32.953C385.78 33.325 386.161 33.808 386.419 34.402C386.677 34.996 386.806 35.632 386.806 36.31C386.806 36.988 386.665 37.624 386.383 38.218C386.101 38.812 385.696 39.295 385.168 39.667C384.64 40.033 384.007 40.216 383.269 40.216C382.783 40.216 382.375 40.135 382.045 39.973C381.715 39.811 381.457 39.631 381.271 39.433C381.085 39.229 380.959 39.073 380.893 38.965V43.744ZM383.341 36.31C383.341 36.004 383.227 35.731 382.999 35.491C382.777 35.251 382.486 35.131 382.126 35.131C381.766 35.131 381.475 35.251 381.253 35.491C381.031 35.731 380.92 36.004 380.92 36.31C380.92 36.622 381.031 36.895 381.253 37.129C381.475 37.363 381.766 37.48 382.126 37.48C382.486 37.48 382.777 37.363 382.999 37.129C383.227 36.895 383.341 36.622 383.341 36.31ZM392.007 40.216C391.167 40.216 390.42 40.054 389.766 39.73C389.112 39.4 388.599 38.944 388.227 38.362C387.855 37.774 387.669 37.096 387.669 36.328C387.669 35.56 387.855 34.882 388.227 34.294C388.599 33.7 389.112 33.235 389.766 32.899C390.42 32.563 391.167 32.395 392.007 32.395C392.847 32.395 393.588 32.563 394.23 32.899C394.872 33.235 395.373 33.7 395.733 34.294C396.099 34.882 396.282 35.56 396.282 36.328C396.282 37.096 396.099 37.774 395.733 38.362C395.373 38.944 394.872 39.4 394.23 39.73C393.588 40.054 392.847 40.216 392.007 40.216ZM392.007 37.336C392.301 37.336 392.529 37.246 392.691 37.066C392.859 36.88 392.943 36.628 392.943 36.31C392.943 35.992 392.859 35.74 392.691 35.554C392.529 35.368 392.301 35.275 392.007 35.275C391.713 35.275 391.479 35.368 391.305 35.554C391.137 35.74 391.053 35.992 391.053 36.31C391.053 36.628 391.137 36.88 391.305 37.066C391.479 37.246 391.713 37.336 392.007 37.336ZM400.842 35.824C400.842 36.28 400.914 36.646 401.058 36.922C401.208 37.198 401.487 37.336 401.895 37.336C402.315 37.336 402.597 37.198 402.741 36.922C402.885 36.646 402.957 36.28 402.957 35.824V32.611H406.449V36.166C406.449 37.426 406.053 38.416 405.261 39.136C404.469 39.856 403.347 40.216 401.895 40.216C400.455 40.216 399.339 39.856 398.547 39.136C397.755 38.416 397.359 37.426 397.359 36.166V32.611H400.842V35.824ZM410.963 40H407.417V32.611H410.963V33.583C411.041 33.439 411.176 33.277 411.368 33.097C411.56 32.911 411.815 32.749 412.133 32.611C412.457 32.467 412.853 32.395 413.321 32.395C413.657 32.395 413.978 32.452 414.284 32.566C414.59 32.674 414.818 32.782 414.968 32.89L413.609 35.752C413.531 35.632 413.384 35.512 413.168 35.392C412.952 35.266 412.682 35.203 412.358 35.203C412.01 35.203 411.734 35.275 411.53 35.419C411.326 35.557 411.179 35.731 411.089 35.941C411.005 36.145 410.963 36.346 410.963 36.544V40ZM25.32 62.395C25.866 62.395 26.364 62.437 26.814 62.521C27.264 62.605 27.636 62.698 27.93 62.8C28.224 62.896 28.404 62.968 28.47 63.016L27.39 65.059C27.282 64.987 27.075 64.888 26.769 64.762C26.463 64.636 26.124 64.573 25.752 64.573C25.548 64.573 25.38 64.591 25.248 64.627C25.116 64.657 25.05 64.72 25.05 64.816C25.05 64.99 25.386 65.128 26.058 65.23C26.388 65.29 26.742 65.398 27.12 65.554C27.504 65.704 27.831 65.935 28.101 66.247C28.371 66.559 28.506 66.979 28.506 67.507C28.506 68.083 28.377 68.551 28.119 68.911C27.867 69.265 27.537 69.538 27.129 69.73C26.727 69.916 26.295 70.042 25.833 70.108C25.371 70.18 24.936 70.216 24.528 70.216C23.892 70.216 23.346 70.162 22.89 70.054C22.44 69.946 22.083 69.826 21.819 69.694C21.555 69.562 21.378 69.463 21.288 69.397L22.341 67.12C22.497 67.24 22.749 67.381 23.097 67.543C23.451 67.705 23.808 67.786 24.168 67.786C24.744 67.786 25.032 67.699 25.032 67.525C25.032 67.357 24.705 67.213 24.051 67.093C23.841 67.051 23.601 66.982 23.331 66.886C23.067 66.79 22.809 66.652 22.557 66.472C22.311 66.292 22.107 66.058 21.945 65.77C21.783 65.482 21.702 65.131 21.702 64.717C21.702 64.183 21.876 63.745 22.224 63.403C22.572 63.061 23.022 62.809 23.574 62.647C24.126 62.479 24.708 62.395 25.32 62.395ZM33.7119 70.216C32.8719 70.216 32.1249 70.054 31.4709 69.73C30.8169 69.4 30.3039 68.944 29.9319 68.362C29.5599 67.774 29.3739 67.096 29.3739 66.328C29.3739 65.56 29.5599 64.882 29.9319 64.294C30.3039 63.7 30.8169 63.235 31.4709 62.899C32.1249 62.563 32.8719 62.395 33.7119 62.395C34.5519 62.395 35.2929 62.563 35.9349 62.899C36.5769 63.235 37.0779 63.7 37.4379 64.294C37.8039 64.882 37.9869 65.56 37.9869 66.328C37.9869 67.096 37.8039 67.774 37.4379 68.362C37.0779 68.944 36.5769 69.4 35.9349 69.73C35.2929 70.054 34.5519 70.216 33.7119 70.216ZM33.7119 67.336C34.0059 67.336 34.2339 67.246 34.3959 67.066C34.5639 66.88 34.6479 66.628 34.6479 66.31C34.6479 65.992 34.5639 65.74 34.3959 65.554C34.2339 65.368 34.0059 65.275 33.7119 65.275C33.4179 65.275 33.1839 65.368 33.0099 65.554C32.8419 65.74 32.7579 65.992 32.7579 66.31C32.7579 66.628 32.8419 66.88 33.0099 67.066C33.1839 67.246 33.4179 67.336 33.7119 67.336ZM44.9235 62.395C45.4695 62.395 45.9975 62.503 46.5075 62.719C47.0235 62.929 47.4465 63.268 47.7765 63.736C48.1125 64.198 48.2805 64.807 48.2805 65.563V70H44.7345V66.112C44.7345 65.728 44.6385 65.425 44.4465 65.203C44.2605 64.975 44.0085 64.861 43.6905 64.861C43.3725 64.861 43.0995 64.975 42.8715 65.203C42.6495 65.425 42.5385 65.728 42.5385 66.112V70H38.9925V62.611H42.5385V63.538C42.6525 63.256 42.9315 62.995 43.3755 62.755C43.8255 62.515 44.3415 62.395 44.9235 62.395ZM60.1163 70V68.965C60.0563 69.073 59.9213 69.229 59.7113 69.433C59.5073 69.631 59.2373 69.811 58.9013 69.973C58.5713 70.135 58.1843 70.216 57.7403 70.216C57.0023 70.216 56.3663 70.033 55.8323 69.667C55.3043 69.295 54.8993 68.812 54.6173 68.218C54.3353 67.624 54.1943 66.988 54.1943 66.31C54.1943 65.632 54.3353 64.996 54.6173 64.402C54.8993 63.808 55.3043 63.325 55.8323 62.953C56.3663 62.581 57.0023 62.395 57.7403 62.395C58.3703 62.395 58.8773 62.518 59.2613 62.764C59.6513 63.01 59.9243 63.247 60.0803 63.475V62.611H63.6083V70H60.1163ZM57.6683 66.31C57.6683 66.622 57.7793 66.895 58.0013 67.129C58.2233 67.363 58.5143 67.48 58.8743 67.48C59.2343 67.48 59.5253 67.363 59.7473 67.129C59.9693 66.895 60.0803 66.622 60.0803 66.31C60.0803 66.004 59.9693 65.731 59.7473 65.491C59.5253 65.251 59.2343 65.131 58.8743 65.131C58.5143 65.131 58.2233 65.251 58.0013 65.491C57.7793 65.731 57.6683 66.004 57.6683 66.31ZM64.4707 62.611H68.2597L69.6097 66.805L70.9687 62.611H74.7397L71.6887 70H67.5397L64.4707 62.611ZM78.5923 67.003C78.6343 67.219 78.7813 67.387 79.0333 67.507C79.2853 67.621 79.5943 67.678 79.9603 67.678C80.3563 67.678 80.7343 67.651 81.0943 67.597C81.4603 67.543 81.7393 67.45 81.9313 67.318L83.2003 69.541C83.0863 69.613 82.8973 69.703 82.6333 69.811C82.3753 69.913 82.0093 70.006 81.5353 70.09C81.0673 70.174 80.4613 70.216 79.7173 70.216C78.8833 70.216 78.1273 70.075 77.4493 69.793C76.7713 69.511 76.2313 69.076 75.8293 68.488C75.4333 67.894 75.2353 67.141 75.2353 66.229C75.2353 65.509 75.4003 64.861 75.7303 64.285C76.0603 63.703 76.5373 63.244 77.1613 62.908C77.7853 62.566 78.5413 62.395 79.4293 62.395C80.7193 62.395 81.7393 62.722 82.4893 63.376C83.2393 64.03 83.6143 65.053 83.6143 66.445C83.6143 66.493 83.6113 66.589 83.6053 66.733C83.6053 66.871 83.5993 66.961 83.5873 67.003H78.5923ZM80.2753 65.554C80.2633 65.254 80.1853 65.032 80.0413 64.888C79.8973 64.744 79.7113 64.672 79.4833 64.672C79.2793 64.672 79.0933 64.738 78.9253 64.87C78.7573 65.002 78.6703 65.23 78.6643 65.554H80.2753ZM90.5564 62.395C91.1024 62.395 91.6304 62.503 92.1404 62.719C92.6564 62.929 93.0794 63.268 93.4094 63.736C93.7454 64.198 93.9134 64.807 93.9134 65.563V70H90.3674V66.112C90.3674 65.728 90.2714 65.425 90.0794 65.203C89.8934 64.975 89.6414 64.861 89.3234 64.861C89.0054 64.861 88.7324 64.975 88.5044 65.203C88.2824 65.425 88.1714 65.728 88.1714 66.112V70H84.6254V62.611H88.1714V63.538C88.2854 63.256 88.5644 62.995 89.0084 62.755C89.4584 62.515 89.9744 62.395 90.5564 62.395ZM94.5645 62.611H95.6895V59.578H99.1905V62.611H100.684V65.491H99.1905V66.445C99.1905 66.661 99.2145 66.859 99.2625 67.039C99.3165 67.219 99.4545 67.309 99.6765 67.309C99.7965 67.309 99.9075 67.279 100.009 67.219C100.117 67.159 100.183 67.117 100.207 67.093L101.359 69.586C101.311 69.628 101.155 69.7 100.891 69.802C100.633 69.904 100.303 69.997 99.9015 70.081C99.5055 70.171 99.0705 70.216 98.5965 70.216C97.7445 70.216 97.0455 69.985 96.4995 69.523C95.9595 69.061 95.6895 68.356 95.6895 67.408V65.491H94.5645V62.611ZM105.495 65.824C105.495 66.28 105.567 66.646 105.711 66.922C105.861 67.198 106.14 67.336 106.548 67.336C106.968 67.336 107.25 67.198 107.394 66.922C107.538 66.646 107.61 66.28 107.61 65.824V62.611H111.102V66.166C111.102 67.426 110.706 68.416 109.914 69.136C109.122 69.856 108 70.216 106.548 70.216C105.108 70.216 103.992 69.856 103.2 69.136C102.408 68.416 102.012 67.426 102.012 66.166V62.611H105.495V65.824ZM115.615 70H112.069V62.611H115.615V63.583C115.693 63.439 115.828 63.277 116.02 63.097C116.212 62.911 116.467 62.749 116.785 62.611C117.109 62.467 117.505 62.395 117.973 62.395C118.309 62.395 118.63 62.452 118.936 62.566C119.242 62.674 119.47 62.782 119.62 62.89L118.261 65.752C118.183 65.632 118.036 65.512 117.82 65.392C117.604 65.266 117.334 65.203 117.01 65.203C116.662 65.203 116.386 65.275 116.182 65.419C115.978 65.557 115.831 65.731 115.741 65.941C115.657 66.145 115.615 66.346 115.615 66.544V70ZM122.977 67.003C123.019 67.219 123.166 67.387 123.418 67.507C123.67 67.621 123.979 67.678 124.345 67.678C124.741 67.678 125.119 67.651 125.479 67.597C125.845 67.543 126.124 67.45 126.316 67.318L127.585 69.541C127.471 69.613 127.282 69.703 127.018 69.811C126.76 69.913 126.394 70.006 125.92 70.09C125.452 70.174 124.846 70.216 124.102 70.216C123.268 70.216 122.512 70.075 121.834 69.793C121.156 69.511 120.616 69.076 120.214 68.488C119.818 67.894 119.62 67.141 119.62 66.229C119.62 65.509 119.785 64.861 120.115 64.285C120.445 63.703 120.922 63.244 121.546 62.908C122.17 62.566 122.926 62.395 123.814 62.395C125.104 62.395 126.124 62.722 126.874 63.376C127.624 64.03 127.999 65.053 127.999 66.445C127.999 66.493 127.996 66.589 127.99 66.733C127.99 66.871 127.984 66.961 127.972 67.003H122.977ZM124.66 65.554C124.648 65.254 124.57 65.032 124.426 64.888C124.282 64.744 124.096 64.672 123.868 64.672C123.664 64.672 123.478 64.738 123.31 64.87C123.142 65.002 123.055 65.23 123.049 65.554H124.66ZM137.873 62.395C138.419 62.395 138.917 62.437 139.367 62.521C139.817 62.605 140.189 62.698 140.483 62.8C140.777 62.896 140.957 62.968 141.023 63.016L139.943 65.059C139.835 64.987 139.628 64.888 139.322 64.762C139.016 64.636 138.677 64.573 138.305 64.573C138.101 64.573 137.933 64.591 137.801 64.627C137.669 64.657 137.603 64.72 137.603 64.816C137.603 64.99 137.939 65.128 138.611 65.23C138.941 65.29 139.295 65.398 139.673 65.554C140.057 65.704 140.384 65.935 140.654 66.247C140.924 66.559 141.059 66.979 141.059 67.507C141.059 68.083 140.93 68.551 140.672 68.911C140.42 69.265 140.09 69.538 139.682 69.73C139.28 69.916 138.848 70.042 138.386 70.108C137.924 70.18 137.489 70.216 137.081 70.216C136.445 70.216 135.899 70.162 135.443 70.054C134.993 69.946 134.636 69.826 134.372 69.694C134.108 69.562 133.931 69.463 133.841 69.397L134.894 67.12C135.05 67.24 135.302 67.381 135.65 67.543C136.004 67.705 136.361 67.786 136.721 67.786C137.297 67.786 137.585 67.699 137.585 67.525C137.585 67.357 137.258 67.213 136.604 67.093C136.394 67.051 136.154 66.982 135.884 66.886C135.62 66.79 135.362 66.652 135.11 66.472C134.864 66.292 134.66 66.058 134.498 65.77C134.336 65.482 134.255 65.131 134.255 64.717C134.255 64.183 134.429 63.745 134.777 63.403C135.125 63.061 135.575 62.809 136.127 62.647C136.679 62.479 137.261 62.395 137.873 62.395ZM145.626 65.824C145.626 66.28 145.698 66.646 145.842 66.922C145.992 67.198 146.271 67.336 146.679 67.336C147.099 67.336 147.381 67.198 147.525 66.922C147.669 66.646 147.741 66.28 147.741 65.824V62.611H151.233V66.166C151.233 67.426 150.837 68.416 150.045 69.136C149.253 69.856 148.131 70.216 146.679 70.216C145.239 70.216 144.123 69.856 143.331 69.136C142.539 68.416 142.143 67.426 142.143 66.166V62.611H145.626V65.824ZM155.746 70H152.2V62.611H155.746V63.583C155.824 63.439 155.959 63.277 156.151 63.097C156.343 62.911 156.598 62.749 156.916 62.611C157.24 62.467 157.636 62.395 158.104 62.395C158.44 62.395 158.761 62.452 159.067 62.566C159.373 62.674 159.601 62.782 159.751 62.89L158.392 65.752C158.314 65.632 158.167 65.512 157.951 65.392C157.735 65.266 157.465 65.203 157.141 65.203C156.793 65.203 156.517 65.275 156.313 65.419C156.109 65.557 155.962 65.731 155.872 65.941C155.788 66.145 155.746 66.346 155.746 66.544V70ZM168.77 70H165.224V57.616H168.77V70ZM173.215 67.003C173.257 67.219 173.404 67.387 173.656 67.507C173.908 67.621 174.217 67.678 174.583 67.678C174.979 67.678 175.357 67.651 175.717 67.597C176.083 67.543 176.362 67.45 176.554 67.318L177.823 69.541C177.709 69.613 177.52 69.703 177.256 69.811C176.998 69.913 176.632 70.006 176.158 70.09C175.69 70.174 175.084 70.216 174.34 70.216C173.506 70.216 172.75 70.075 172.072 69.793C171.394 69.511 170.854 69.076 170.452 68.488C170.056 67.894 169.858 67.141 169.858 66.229C169.858 65.509 170.023 64.861 170.353 64.285C170.683 63.703 171.16 63.244 171.784 62.908C172.408 62.566 173.164 62.395 174.052 62.395C175.342 62.395 176.362 62.722 177.112 63.376C177.862 64.03 178.237 65.053 178.237 66.445C178.237 66.493 178.234 66.589 178.228 66.733C178.228 66.871 178.222 66.961 178.21 67.003H173.215ZM174.898 65.554C174.886 65.254 174.808 65.032 174.664 64.888C174.52 64.744 174.334 64.672 174.106 64.672C173.902 64.672 173.716 64.738 173.548 64.87C173.38 65.002 173.293 65.23 173.287 65.554H174.898ZM188.111 62.395C188.657 62.395 189.155 62.437 189.605 62.521C190.055 62.605 190.427 62.698 190.721 62.8C191.015 62.896 191.195 62.968 191.261 63.016L190.181 65.059C190.073 64.987 189.866 64.888 189.56 64.762C189.254 64.636 188.915 64.573 188.543 64.573C188.339 64.573 188.171 64.591 188.039 64.627C187.907 64.657 187.841 64.72 187.841 64.816C187.841 64.99 188.177 65.128 188.849 65.23C189.179 65.29 189.533 65.398 189.911 65.554C190.295 65.704 190.622 65.935 190.892 66.247C191.162 66.559 191.297 66.979 191.297 67.507C191.297 68.083 191.168 68.551 190.91 68.911C190.658 69.265 190.328 69.538 189.92 69.73C189.518 69.916 189.086 70.042 188.624 70.108C188.162 70.18 187.727 70.216 187.319 70.216C186.683 70.216 186.137 70.162 185.681 70.054C185.231 69.946 184.874 69.826 184.61 69.694C184.346 69.562 184.169 69.463 184.079 69.397L185.132 67.12C185.288 67.24 185.54 67.381 185.888 67.543C186.242 67.705 186.599 67.786 186.959 67.786C187.535 67.786 187.823 67.699 187.823 67.525C187.823 67.357 187.496 67.213 186.842 67.093C186.632 67.051 186.392 66.982 186.122 66.886C185.858 66.79 185.6 66.652 185.348 66.472C185.102 66.292 184.898 66.058 184.736 65.77C184.574 65.482 184.493 65.131 184.493 64.717C184.493 64.183 184.667 63.745 185.015 63.403C185.363 63.061 185.813 62.809 186.365 62.647C186.917 62.479 187.499 62.395 188.111 62.395ZM194.352 61.792C193.824 61.792 193.374 61.606 193.002 61.234C192.636 60.856 192.453 60.409 192.453 59.893C192.453 59.377 192.636 58.93 193.002 58.552C193.374 58.168 193.824 57.976 194.352 57.976C194.7 57.976 195.018 58.063 195.306 58.237C195.594 58.411 195.825 58.642 195.999 58.93C196.179 59.218 196.269 59.539 196.269 59.893C196.269 60.409 196.08 60.856 195.702 61.234C195.33 61.606 194.88 61.792 194.352 61.792ZM192.543 70V62.611H196.08V70H192.543ZM196.992 62.611H198.117V59.578H201.618V62.611H203.112V65.491H201.618V66.445C201.618 66.661 201.642 66.859 201.69 67.039C201.744 67.219 201.882 67.309 202.104 67.309C202.224 67.309 202.335 67.279 202.437 67.219C202.545 67.159 202.611 67.117 202.635 67.093L203.787 69.586C203.739 69.628 203.583 69.7 203.319 69.802C203.061 69.904 202.731 69.997 202.329 70.081C201.933 70.171 201.498 70.216 201.024 70.216C200.172 70.216 199.473 69.985 198.927 69.523C198.387 69.061 198.117 68.356 198.117 67.408V65.491H196.992V62.611ZM207.581 67.003C207.623 67.219 207.77 67.387 208.022 67.507C208.274 67.621 208.583 67.678 208.949 67.678C209.345 67.678 209.723 67.651 210.083 67.597C210.449 67.543 210.728 67.45 210.92 67.318L212.189 69.541C212.075 69.613 211.886 69.703 211.622 69.811C211.364 69.913 210.998 70.006 210.524 70.09C210.056 70.174 209.45 70.216 208.706 70.216C207.872 70.216 207.116 70.075 206.438 69.793C205.76 69.511 205.22 69.076 204.818 68.488C204.422 67.894 204.224 67.141 204.224 66.229C204.224 65.509 204.389 64.861 204.719 64.285C205.049 63.703 205.526 63.244 206.15 62.908C206.774 62.566 207.53 62.395 208.418 62.395C209.708 62.395 210.728 62.722 211.478 63.376C212.228 64.03 212.603 65.053 212.603 66.445C212.603 66.493 212.6 66.589 212.594 66.733C212.594 66.871 212.588 66.961 212.576 67.003H207.581ZM209.264 65.554C209.252 65.254 209.174 65.032 209.03 64.888C208.886 64.744 208.7 64.672 208.472 64.672C208.268 64.672 208.082 64.738 207.914 64.87C207.746 65.002 207.659 65.23 207.653 65.554H209.264ZM215.756 70.216C215.228 70.216 214.775 70.027 214.397 69.649C214.019 69.271 213.83 68.818 213.83 68.29C213.83 67.756 214.019 67.3 214.397 66.922C214.775 66.544 215.228 66.355 215.756 66.355C216.29 66.355 216.746 66.544 217.124 66.922C217.502 67.3 217.691 67.756 217.691 68.29C217.691 68.818 217.502 69.271 217.124 69.649C216.746 70.027 216.29 70.216 215.756 70.216Z" fill="white"/>
                    </svg>
                    `;


    constructor() {
        if (document.getElementById('pixie')) return;

        this.#elt = this.#build();
    }

    #build() {
        const pixie = document.createElement('div');
        pixie.id = 'pixie';

        return pixie;
    }
    render() {
        document.body.appendChild(this.#elt);
    }

    say(toSay) {
        this.#elt.innerHTML = '';

        const speech = document.createElement('div');
        speech.id = "speech";

        const p = document.createElement('p');
        speech.appendChild(p);

        const hint = document.createElement('span');
        hint.classList.add("hint");
        hint.innerHTML = 'Clique pour continuer';
        speech.appendChild(hint);

        let i = 0;
        const typeWriter = () => {
            if (i < toSay.length) {
                p.innerHTML += toSay.charAt(i);
                i++;
                setTimeout(typeWriter, this.#textSpeed);
            }
        }
        this.#elt.appendChild(speech);

        typeWriter(toSay, speech);
    }

    mute() {
        this.#elt.innerHTML = '';
    }

    #toggleIdleSize() {
        if (this.#isIdle) {
            this.#elt.style.width = `${this.#idleSize}px`;
            this.#elt.style.height = `${this.#idleSize}px`;
        }
        else {
            this.#elt.style.width = `${this.#defaultSize}px`;
            this.#elt.style.height = `${this.#defaultSize}px`;
        }
    }

    #updatePosition(x, y, unit = 'px') {
        if (unit === 'viewport') {
            x = (window.innerWidth * x) / 100;
            y = (window.innerHeight * y) / 100;
            unit = 'px';
        }

        this.#elt.style.top = `${y}${unit}`;
        this.#elt.style.left = `${x}${unit}`;

        this.#position.x = x;
        this.#position.y = y;
    }

    move(x, y, unit) {
        this.#isIdle = false;
        this.#toggleIdleSize();
        this.#updatePosition(x, y, unit);
    }

    moveToIdle() {
        this.#isIdle = true;
        this.mute();
        this.#toggleIdleSize();
        this.#updatePosition((window.innerWidth / 2) - (this.#idleSize / 2), 4);
    }

    hide() {
        this.#updatePosition(-100, this.#position.y);
    }

    show() {
        this.#updatePosition(this.#position.x, this.#position.y);
    }

    async wait() {
        return new Promise(resolve => {
            document.addEventListener('click', () => {
                resolve();
            }, { once: true });
        });
    }
}